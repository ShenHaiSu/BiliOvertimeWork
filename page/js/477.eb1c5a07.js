"use strict";(self["webpackChunkbili_overtime_work_frontend"]=self["webpackChunkbili_overtime_work_frontend"]||[]).push([[477],{8477:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"OBSOvertimeWork"}},[e("div",{attrs:{id:"timeLeftShow"}},[e("h5",[t._v("加班时间")]),e("span",[t._v(t._s(t._f("timeFormat")(t.currentWorkTime)))])]),e("div",{attrs:{id:"modItemList"}},[e("h5",[t._v("礼物列表")]),t._l(t.modList,(function(r,s){return[e("b-row",{key:s+"-key",staticClass:"modList"},[e("b-col",{staticClass:"modListLeft",attrs:{cols:"4"}},[t._v(t._s(r.giftName))]),e("b-col",{staticClass:"modListCenter",attrs:{cols:"1"}},[t._v(t._s(1!==r.count?"x"+r.count:""))]),e("b-col",{staticClass:"modListRight",attrs:{cols:"7"}},[t._v(t._s(t._f("modTypeFormat")(r)))])],1)]}))],2)])},i=[],a=r(9669),o=r.n(a),n=r(289);function m(t,e="get"){return o()({url:t,method:e}).then((t=>({err:!1,data:t.data}))).catch((t=>(n.C.call(this,"请求出现错误",t.message,"danger"),{err:!0})))}var c={sendRequest:m},d={name:"ViewOvertimeWork",data(){return{currentWorkTime:7213211531,modList:[],tempGiftList:[]}},methods:{async getBaseInfo(){let t=await c.sendRequest.call(this,"/API/overtimeWork/getInfo");t.err||(this.currentWorkTime=t.data.currentWorkTime,this.modList=t.data.modList,this.tempGiftList=t.data.tempGiftList,this.$forceUpdate())}},mounted(){this.getBaseInfo(),this.$EventBus.$on("OvertimeWork-changeTime",(t=>{t=JSON.parse(t),this.currentWorkTime=t["timeLeft"]})),this.$EventBus.$on("OvertimeWork-changeModList",(t=>{t=JSON.parse(t),this.modList=t["data"]})),setInterval((()=>{this.currentWorkTime<=0||!this.$store.state.liveStatus||this.currentWorkTime--}),1e3)},computed:{},filters:{timeFormat(t){let e="";return e+=Math.floor(t/86400)+"天 ",t-=86400*Math.floor(t/86400),e+=Math.floor(t/3600)+"小时 ",t-=3600*Math.floor(t/3600),e+=Math.floor(t/60)+"分钟 ",t-=60*Math.floor(t/60),e+=Math.floor(t)+"秒",e},modTypeFormat(t){let e="";switch(t.type){case"add":e=`增加${t.timeChange}秒`;break;case"reduce":e=`减少${t.timeChange}秒`;break;case"multi":e=`乘以${t.timeChange}`;break;case"division":e=`除以${t.timeChange}`;break;case"power":e=`剩余时间的${t.timeChange}次方`;break}return e}}},h=d,l=r(1001),u=(0,l.Z)(h,s,i,!1,null,"03e02b38",null),f=u.exports}}]);
//# sourceMappingURL=477.eb1c5a07.js.map