{"version":3,"file":"js/565.0bcc528e.js","mappings":"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","sources":["webpack://bili-overtime-work-frontend/./src/views/OvertimeWorkConfig.vue?2a3f","webpack://bili-overtime-work-frontend/src/views/OvertimeWorkConfig.vue","webpack://bili-overtime-work-frontend/./src/views/OvertimeWorkConfig.vue?6d37","webpack://bili-overtime-work-frontend/./src/views/OvertimeWorkConfig.vue","webpack://bili-overtime-work-frontend/./src/common/ToolsFunctions.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{attrs:{\"fluid\":\"\",\"id\":\"OutContainer\"}},[_c('hr'),_c('h1',[_c('b',[_vm._v(\"加班组件\")]),_c('b-badge',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"v1.2 配置面板\")])],1),_c('hr'),_c('b-row',[_c('b-col',[_c('b-container',[_c('b-row',[_c('b-col',[_c('b-btn',{on:{\"click\":_vm.getBaseInfo}},[_vm._v(\"刷新面板信息\")])],1),_c('b-col',[_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.openOBSView}},[_vm._v(\"打开OBS显示窗口\")])],1),_c('b-col',[_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.copyOBSViewAddress}},[_vm._v(\"复制OBS显示窗口网址\")])],1),_c('b-col',[_c('b-btn',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.resetTimeLeft}},[_vm._v(\"重置剩余加班时间\")])],1)],1),_c('hr'),_c('h3',[_vm._v(\"基础信息\")]),_c('br'),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('span',{staticClass:\"baseText\"},[_vm._v(\"默认加班时间\")])]),_c('b-col',{attrs:{\"cols\":\"10\"}},[_c('span',{staticClass:\"baseText\"},[_vm._v(_vm._s(_vm.timeFormat(this.defaultWorkTime)))])])],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('span',{staticClass:\"baseText\"},[_vm._v(\"当前剩余加班时间\")])]),_c('b-col',{attrs:{\"cols\":\"10\"}},[_c('span',{staticClass:\"baseText\"},[_vm._v(_vm._s(_vm.timeFormat(this.currentWorkTime)))])])],1),_c('br'),_c('br'),_c('hr'),_c('h3',[_vm._v(\"快捷操作\")]),_c('br'),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('span',{staticClass:\"baseText\"},[_vm._v(\"修改量\")])]),_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('b-input',{attrs:{\"placeholder\":\"填入需要修改加班时间的量，正数增加，负数减少。(单位：秒)\",\"type\":\"number\"},model:{value:(_vm.fastModCount),callback:function ($$v) {_vm.fastModCount=$$v},expression:\"fastModCount\"}})],1),_c('b-col',[_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.fastModTime}},[_vm._v(\"提交更改\")])],1)],1),_c('br'),_c('br'),_c('hr'),_c('h3',[_vm._v(\"礼物修改时间列表\")]),_c('br'),_c('b-row',[_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('如果有两笔数据的礼物名相同，那么序号小的触发，序号大的将不会触发。'),expression:\"'如果有两笔数据的礼物名相同，那么序号小的触发，序号大的将不会触发。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"1\",\"title\":\"配置的序号\"}},[_vm._v(\"序号 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('只允许填入字符串。需要和真实礼物名完全一一对应。'),expression:\"'只允许填入字符串。需要和真实礼物名完全一一对应。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"2\",\"title\":\"触发的礼物名\"}},[_vm._v(\"礼物名 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('允许的类型分别是增加、减少、乘以、除以、N次方、重置。'),expression:\"'允许的类型分别是增加、减少、乘以、除以、N次方、重置。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"2\",\"title\":\"触发事件的类型\"}},[_vm._v(\"类型 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('指时间变动触发事件所需要的礼物数量，如果低于这个数量，仅会将数据累加，直到超过阈值。'),expression:\"'指时间变动触发事件所需要的礼物数量，如果低于这个数量，仅会将数据累加，直到超过阈值。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"2\",\"title\":\"触发事件的阈值\"}},[_vm._v(\"阈值 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('必须填入大于0的整数。如果触发类型是N次方，那么次数变化量代表次方数。例如2代表平方。如果类型是重置，那么变化量无法设置。'),expression:\"'必须填入大于0的整数。如果触发类型是N次方，那么次数变化量代表次方数。例如2代表平方。如果类型是重置，那么变化量无法设置。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"4\",\"title\":\"触发事件后加班时间的变化量\"}},[_vm._v(\"变化量 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('点击按钮对指定行的数据进行操作，如果需要重置可以点击界面上方的 刷新面板信息 '),expression:\"'点击按钮对指定行的数据进行操作，如果需要重置可以点击界面上方的 刷新面板信息 '\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"1\",\"title\":\"对单笔数据进行操作\"}},[_vm._v(\"操作 \")])],1),_c('br'),(_vm.modList.length === 0)?[_c('b-badge',[_vm._v(\"列表为空\")]),_c('br')]:_vm._e(),_vm._l((_vm.modList),function(item,index){return [_c('b-row',{key:index + 'no',staticClass:\"DataRow\"},[_c('b-col',{attrs:{\"cols\":\"1\"}},[_vm._v(_vm._s(index + 1))]),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-input',{model:{value:(item.giftName),callback:function ($$v) {_vm.$set(item, \"giftName\", $$v)},expression:\"item.giftName\"}})],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-select',{attrs:{\"options\":_vm.modOptionsList},on:{\"change\":function($event){return _vm.modTypeChange(item)}},model:{value:(item.type),callback:function ($$v) {_vm.$set(item, \"type\", $$v)},expression:\"item.type\"}})],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(item.count),callback:function ($$v) {_vm.$set(item, \"count\", _vm._n($$v))},expression:\"item.count\"}})],1),_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('b-input',{attrs:{\"disabled\":item.type === 'clear',\"type\":\"number\"},model:{value:(item.timeChange),callback:function ($$v) {_vm.$set(item, \"timeChange\", _vm._n($$v))},expression:\"item.timeChange\"}})],1),_c('b-col',{attrs:{\"cols\":\"1\"}},[_c('b-btn',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteItem(index)}}},[_vm._v(\"删除\")])],1)],1)]}),_c('br'),_c('b-row',[_c('b-col',[_c('b-btn',{staticStyle:{\"width\":\"50%\"},on:{\"click\":_vm.addNewModItem}},[_vm._v(\"新增一笔数据\")])],1),_c('b-col',[_c('b-btn',{staticStyle:{\"width\":\"50%\"},attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.uploadModList}},[_vm._v(\"上传列表\")])],1),_c('b-col',[_c('b-btn',{staticStyle:{\"width\":\"50%\"},attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.getBaseInfo}},[_vm._v(\"重置列表\")])],1)],1)],2)],1)],1),_c('br'),_c('br'),_c('br'),_c('br'),_c('br')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container fluid id=\"OutContainer\">\r\n    <hr>\r\n    <h1>\r\n      <b>加班组件</b>\r\n      <b-badge style=\"font-size: 14px\">v1.2 配置面板</b-badge>\r\n    </h1>\r\n    <hr>\r\n    <b-row>\r\n      <b-col>\r\n        <b-container>\r\n          <b-row>\r\n            <b-col>\r\n              <b-btn @click=\"getBaseInfo\">刷新面板信息</b-btn>\r\n            </b-col>\r\n            <b-col>\r\n              <b-btn @click=\"openOBSView\" variant=\"primary\">打开OBS显示窗口</b-btn>\r\n            </b-col>\r\n            <b-col>\r\n              <b-btn @click=\"copyOBSViewAddress\" variant=\"primary\">复制OBS显示窗口网址</b-btn>\r\n            </b-col>\r\n            <b-col>\r\n              <b-btn @click=\"resetTimeLeft\" variant=\"danger\">重置剩余加班时间</b-btn>\r\n            </b-col>\r\n          </b-row>\r\n          <hr>\r\n          <h3>基础信息</h3>\r\n          <br>\r\n          <b-row>\r\n            <b-col cols=\"2\">\r\n              <span class=\"baseText\">默认加班时间</span>\r\n            </b-col>\r\n            <b-col cols=\"10\">\r\n              <span class=\"baseText\">{{ timeFormat(this.defaultWorkTime) }}</span>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row>\r\n            <b-col cols=\"2\">\r\n              <span class=\"baseText\">当前剩余加班时间</span>\r\n            </b-col>\r\n            <b-col cols=\"10\">\r\n              <span class=\"baseText\">{{ timeFormat(this.currentWorkTime) }}</span>\r\n            </b-col>\r\n          </b-row>\r\n          <br><br>\r\n          <hr>\r\n          <h3>快捷操作</h3>\r\n          <br>\r\n          <b-row>\r\n            <b-col cols=\"2\">\r\n              <span class=\"baseText\">修改量</span>\r\n            </b-col>\r\n            <b-col cols=\"8\">\r\n              <b-input v-model=\"fastModCount\" placeholder=\"填入需要修改加班时间的量，正数增加，负数减少。(单位：秒)\" type=\"number\"></b-input>\r\n            </b-col>\r\n            <b-col>\r\n              <b-btn @click=\"fastModTime\" variant=\"primary\">提交更改</b-btn>\r\n            </b-col>\r\n          </b-row>\r\n          <br><br>\r\n          <hr>\r\n          <h3>礼物修改时间列表</h3>\r\n          <br>\r\n          <b-row>\r\n            <b-col cols=\"1\"\r\n                   v-b-popover.hover.bottom=\"'如果有两笔数据的礼物名相同，那么序号小的触发，序号大的将不会触发。'\"\r\n                   title=\"配置的序号\">序号\r\n            </b-col>\r\n            <b-col cols=\"2\"\r\n                   v-b-popover.hover.bottom=\"'只允许填入字符串。需要和真实礼物名完全一一对应。'\"\r\n                   title=\"触发的礼物名\">礼物名\r\n            </b-col>\r\n            <b-col cols=\"2\"\r\n                   v-b-popover.hover.bottom=\"'允许的类型分别是增加、减少、乘以、除以、N次方、重置。'\"\r\n                   title=\"触发事件的类型\">类型\r\n            </b-col>\r\n            <b-col cols=\"2\"\r\n                   v-b-popover.hover.bottom=\"'指时间变动触发事件所需要的礼物数量，如果低于这个数量，仅会将数据累加，直到超过阈值。'\"\r\n                   title=\"触发事件的阈值\">阈值\r\n            </b-col>\r\n            <b-col cols=\"4\"\r\n                   v-b-popover.hover.bottom=\"'必须填入大于0的整数。如果触发类型是N次方，那么次数变化量代表次方数。例如2代表平方。如果类型是重置，那么变化量无法设置。'\"\r\n                   title=\"触发事件后加班时间的变化量\">变化量\r\n            </b-col>\r\n            <b-col cols=\"1\"\r\n                   v-b-popover.hover.bottom=\"'点击按钮对指定行的数据进行操作，如果需要重置可以点击界面上方的 刷新面板信息 '\"\r\n                   title=\"对单笔数据进行操作\">操作\r\n            </b-col>\r\n          </b-row>\r\n          <br>\r\n          <template v-if=\"modList.length === 0\">\r\n            <b-badge>列表为空</b-badge>\r\n            <br>\r\n          </template>\r\n          <template v-for=\"(item,index) in modList\">\r\n            <b-row :key=\"index + 'no'\" class=\"DataRow\">\r\n              <b-col cols=\"1\">{{ index + 1 }}</b-col>\r\n              <b-col cols=\"2\">\r\n                <b-input v-model=\"item.giftName\"></b-input>\r\n              </b-col>\r\n              <b-col cols=\"2\">\r\n                <b-select v-model=\"item.type\" :options=\"modOptionsList\" @change=\"modTypeChange(item)\"/>\r\n              </b-col>\r\n              <b-col cols=\"2\">\r\n                <b-input v-model.number=\"item.count\" type=\"number\"></b-input>\r\n              </b-col>\r\n              <b-col cols=\"4\">\r\n                <b-input v-model.number=\"item.timeChange\" :disabled=\"item.type === 'clear'\" type=\"number\"></b-input>\r\n              </b-col>\r\n              <b-col cols=\"1\">\r\n                <b-btn @click=\"deleteItem(index)\" variant=\"danger\">删除</b-btn>\r\n              </b-col>\r\n            </b-row>\r\n          </template>\r\n          <br>\r\n          <b-row>\r\n            <b-col>\r\n              <b-btn style=\"width: 50%\" @click=\"addNewModItem\">新增一笔数据</b-btn>\r\n            </b-col>\r\n            <b-col>\r\n              <b-btn style=\"width: 50%\" @click=\"uploadModList\" variant=\"primary\">上传列表</b-btn>\r\n            </b-col>\r\n            <b-col>\r\n              <b-btn style=\"width: 50%\" @click=\"getBaseInfo\" variant=\"danger\">重置列表</b-btn>\r\n            </b-col>\r\n          </b-row>\r\n        </b-container>\r\n      </b-col>\r\n    </b-row>\r\n    <br><br><br><br><br>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {showToast} from \"@/common/ToastShow\";\r\nimport clipboard from \"clipboard\";\r\nimport Tools from \"@/common/ToolsFunctions\";\r\n\r\n\r\nexport default {\r\n  name: \"OvertimeWorkConfig\",\r\n  data() {\r\n    return {\r\n      defaultWorkTime: 0,\r\n      currentWorkTime: 0,\r\n      modList: [\r\n        // {giftName:\"辣条\",type:\"clear\",count:2,timeChange:10000},\r\n      ],\r\n      tempGiftList: [],\r\n      fastModCount: null,\r\n      modOptionsList: [\r\n        {value: \"add\", text: \"增加\"},\r\n        {value: \"reduce\", text: \"减少\"},\r\n        {value: \"multi\", text: \"乘以\"},\r\n        {value: \"division\", text: \"除以\"},\r\n        {value: \"power\", text: \"N次方\"},\r\n        {value: \"clear\", text: \"重置\"},\r\n      ],\r\n      OBSViewAddress: \"/OBSView/overtimeWork\"\r\n    }\r\n  },\r\n  methods: {\r\n    async resetTimeLeft() {\r\n      if (!window.confirm(\"确定要将当前剩余加班时间删除，并设置为默认加班时间吗？\")) return;\r\n      let result = await this.sendRequest(\"/API/overtimeWork/resetTime\", \"post\");\r\n      if (result.err) return;\r\n      showToast.call(this, \"重置时间成功\", \"已经将剩余加班时间重置为默认时间。\", \"success\");\r\n      this.getBaseInfo().then();\r\n    },\r\n    async getBaseInfo() {\r\n      let result = await this.sendRequest(\"/API/overtimeWork/getInfo\", \"get\");\r\n      if (result.err) return;\r\n      this.defaultWorkTime = result.data.defaultWorkTime;\r\n      this.currentWorkTime = result.data.currentWorkTime;\r\n      this.modList = result.data.modList;\r\n      this.tempGiftList = result.data.tempGiftList;\r\n      this.$forceUpdate();\r\n    },\r\n    async fastModTime() {\r\n      // 验证数据合法性\r\n      if (!this.fastModCount)\r\n        return showToast.call(this, \"参数不符合要求\", \"快捷操作量必须是正负整数。\", \"danger\");\r\n      // 发送上报请求\r\n      let result = await this.sendRequest(\r\n          \"/API/overtimeWork/fastMod\",\r\n          \"post\",\r\n          {modCount: parseInt(this.fastModCount)}\r\n      );\r\n      if (result.err) return;\r\n      showToast.call(this, \"快捷操作修改完毕。\", \"操作修改完毕，如果剩余加班时间没有变动，请尝试点击刷新信息按钮。\", \"success\");\r\n      this.getBaseInfo().then();\r\n    },\r\n    async uploadModList() {\r\n      if (!window.confirm(\"请确认数据是否合规，上传后核心将会自动删除不合规的数据。并不保留不合规数据。\")) return;\r\n      let result = await this.sendRequest(\"/API/overtimeWork/updateModList\", \"post\", this.modList);\r\n      if (result.err) return;\r\n      showToast.call(this, \"上传数据已完成\", \"如果列表没有刷新，可以点击 '重置列表' 获取当前最新可用的列表\", \"success\");\r\n    },\r\n    openOBSView() {\r\n      open(Tools.getLocalCustomAddress(this.OBSViewAddress));\r\n    },\r\n    copyOBSViewAddress() {\r\n      let address = Tools.getLocalCustomAddress(this.OBSViewAddress);\r\n      clipboard.copy(address);\r\n      showToast.call(this, \"内容已复制\", address, \"success\");\r\n    },\r\n    deleteItem(index) {\r\n      this.modList.splice(index, 1);\r\n    },\r\n    timeFormat(input) {\r\n      return Tools.timeFormat(input);\r\n    },\r\n    addNewModItem() {\r\n      this.modList.push({\r\n        giftName: \"空白\",\r\n        count: 0,\r\n        timeChange: 0,\r\n        type: \"add\"\r\n      })\r\n    },\r\n    modTypeChange(item) {\r\n      if (item.type === \"clear\") item.timeChange = 1;\r\n    },\r\n    sendRequest(url, method = \"get\", data = {}) {\r\n      return axios({\r\n        url, method, data\r\n      }).then(axiosRes => {\r\n        return {err: false, data: axiosRes.data};\r\n      }).catch(axiosErr => {\r\n        showToast.call(this, \"请求失败\", axiosErr.message, \"danger\");\r\n        return {err: true};\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getBaseInfo();\r\n    setInterval(() => {\r\n      // 自动减少剩余时间\r\n      if (this.currentWorkTime <= 0 || !this.$store.state.liveStatus) return;\r\n      this.currentWorkTime--;\r\n    }, 1000);\r\n\r\n    // 关注剩余加班时间变动事件\r\n    this.$EventBus.$on(\"OvertimeWork-changeTime\", data => {\r\n      data = JSON.parse(data);\r\n      this.currentWorkTime = data['timeLeft'];\r\n    });\r\n\r\n    // 关注加班道具列表变动事件\r\n    this.$EventBus.$on(\"OvertimeWork-changeModList\", data => {\r\n      data = JSON.parse(data);\r\n      this.modList = data['data'];\r\n    });\r\n  },\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#OutContainer {\r\n  text-align: center;\r\n}\r\n\r\n.baseText {\r\n  line-height: 38px;\r\n}\r\n\r\n.DataRow {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.DataRow > div {\r\n  line-height: 38px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OvertimeWorkConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OvertimeWorkConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OvertimeWorkConfig.vue?vue&type=template&id=7f83eb68&scoped=true&\"\nimport script from \"./OvertimeWorkConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./OvertimeWorkConfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OvertimeWorkConfig.vue?vue&type=style&index=0&id=7f83eb68&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f83eb68\",\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\r\nimport {showToast} from \"@/common/ToastShow\";\r\n\r\n/**\r\n * @param url {String} 访问的地址\r\n * @param method {String} 访问的方法\r\n * @return {Promise<{err: boolean, data: *} | {err: boolean}>}\r\n */\r\nfunction sendRequest(url, method = \"get\") {\r\n  return axios({\r\n    url, method\r\n  }).then(axiosRes => {\r\n    return {err: false, data: axiosRes.data};\r\n  }).catch(axiosErr => {\r\n    showToast.call(this, \"请求出现错误\", axiosErr.message, \"danger\");\r\n    return {err: true};\r\n  })\r\n}\r\n\r\n/**\r\n * @param input {Number} 时间秒数\r\n * @return {string} 时间格式化之后的返回值\r\n */\r\nfunction timeFormat(input = 0) {\r\n  let output = \"\";\r\n  if (input >= 31536000) {\r\n    output += Math.floor(input / 31536000) + \"年 \";\r\n    input -= Math.floor(input / 31536000) * 31536000;\r\n  }\r\n  if (input >= 86400) {\r\n    output += Math.floor(input / 86400) + \"天 \";\r\n    input -= Math.floor(input / 86400) * 86400;\r\n  }\r\n  if (input >= 3600) {\r\n    output += Math.floor(input / 3600) + \"小时 \";\r\n    input -= Math.floor(input / 3600) * 3600;\r\n  }\r\n  if (input >= 60) {\r\n    output += Math.floor(input / 60) + \"分钟 \";\r\n    input -= Math.floor(input / 60) * 60;\r\n  }\r\n  output += Math.floor(input) + \"秒\";\r\n  return output;\r\n}\r\n\r\n/**\r\n * @param path {String} 路径\r\n * @return {string} 本站内部链接\r\n */\r\nfunction getLocalCustomAddress(path = \"/\") {\r\n  return `http://${location.host}/#${path.slice(0, 1) === \"/\" ? \"\" : \"/\"}${path}`;\r\n}\r\n\r\nexport default {sendRequest, timeFormat, getLocalCustomAddress};"],"names":["render","_vm","this","_c","_self","attrs","_v","staticStyle","on","getBaseInfo","openOBSView","copyOBSViewAddress","resetTimeLeft","staticClass","_s","timeFormat","defaultWorkTime","currentWorkTime","model","value","callback","$$v","fastModCount","expression","fastModTime","directives","name","rawName","modifiers","modList","length","_e","_l","item","index","key","$set","modOptionsList","$event","modTypeChange","_n","type","deleteItem","addNewModItem","uploadModList","staticRenderFns","data","tempGiftList","text","OBSViewAddress","methods","async","window","confirm","result","sendRequest","err","then","$forceUpdate","modCount","parseInt","open","address","splice","input","push","giftName","count","timeChange","url","method","axiosRes","catch","axiosErr","message","mounted","setInterval","$store","state","liveStatus","$EventBus","$on","JSON","parse","components","component","output","Math","floor","getLocalCustomAddress","path","location","host","slice"],"sourceRoot":""}