{"version":3,"file":"js/436.b272b135.js","mappings":"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","sources":["webpack://bili-overtime-work-frontend/./src/components/ViewOvertimeWork.vue?d07f","webpack://bili-overtime-work-frontend/src/components/ViewOvertimeWork.vue","webpack://bili-overtime-work-frontend/./src/components/ViewOvertimeWork.vue?951a","webpack://bili-overtime-work-frontend/./src/components/ViewOvertimeWork.vue","webpack://bili-overtime-work-frontend/./src/views/OvertimeWorkConfig.vue?5442","webpack://bili-overtime-work-frontend/src/views/OvertimeWorkConfig.vue","webpack://bili-overtime-work-frontend/./src/views/OvertimeWorkConfig.vue?6d37","webpack://bili-overtime-work-frontend/./src/views/OvertimeWorkConfig.vue","webpack://bili-overtime-work-frontend/./src/common/ToolsFunctions.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"OBSOvertimeWork\"}},[_c('div',{attrs:{\"id\":\"timeLeftShow\"}},[_c('h5',[_vm._v(\"加班时间\")]),_c('b',[_vm._v(_vm._s(_vm.timeFormat(_vm.currentWorkTime)))])]),_c('div',{attrs:{\"id\":\"modItemList\"}},[_c('h5',[_vm._v(\"礼物列表\")]),_c('b-row',[_vm._l((_vm.modList),function(item,index){return [_c('b-col',{key:index+'key',staticClass:\"\",attrs:{\"cols\":\"4\"}},[_c('b-container',{staticClass:\"modListDataShow\",staticStyle:{\"position\":\"relative\",\"padding\":\"0\"}},[(item.img)?_c('b-img-lazy',{staticClass:\"modListDataImg\",attrs:{\"src\":item.img}}):_c('span',[_vm._v(_vm._s(item.giftName))]),_c('span',{staticClass:\"modListItemCount\"},[_vm._v(_vm._s(item.count !== 1 ? \"x\" + item.count : \"\"))])],1),_c('p',{staticClass:\"modListDataDesc\"},[_vm._v(_vm._s(_vm.modTypeFormat(item)))])],1)]}),(_vm.modList.length === 0)?[_c('b-container',[_c('br'),_c('p',{staticStyle:{\"color\":\"white\",\"font-size\":\"30px\"}},[_vm._v(\"当前礼物列表为空\")])])]:_vm._e()],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"OBSOvertimeWork\">\r\n    <div id=\"timeLeftShow\">\r\n      <h5>加班时间</h5>\r\n      <b>{{ timeFormat(currentWorkTime) }}</b>\r\n    </div>\r\n    <div id=\"modItemList\">\r\n      <h5>礼物列表</h5>\r\n      <b-row>\r\n        <template v-for=\"(item,index) in modList\">\r\n          <b-col :key=\"index+'key'\" cols=\"4\" class=\"   \">\r\n            <b-container class=\"modListDataShow\" style=\"position: relative; padding: 0\">\r\n              <b-img-lazy v-if=\"item.img\" :src=\"item.img\" class=\"modListDataImg\"/>\r\n              <span v-else>{{ item.giftName }}</span>\r\n              <span class=\"modListItemCount\">{{ item.count !== 1 ? \"x\" + item.count : \"\" }}</span>\r\n            </b-container>\r\n            <p class=\"modListDataDesc\">{{ modTypeFormat(item) }}</p>\r\n          </b-col>\r\n        </template>\r\n        <template v-if=\"modList.length === 0\">\r\n          <b-container>\r\n            <br>\r\n            <p style=\"color: white;font-size: 30px\">当前礼物列表为空</p>\r\n          </b-container>\r\n        </template>\r\n      </b-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Tools from \"@/common/ToolsFunctions\";\r\n\r\nexport default {\r\n  name: \"ViewOvertimeWork\",\r\n  data() {\r\n    return {\r\n      currentWorkTime: 0,\r\n      modList: [\r\n        // {giftName:\"辣条\",type:\"add\",count:2,timeChange:10000},\r\n        // {giftName:\"辣条\",type:\"reduce\",count:2,timeChange:10000},\r\n        // {giftName:\"辣条\",type:\"multi\",count:2,timeChange:10000},\r\n        // {giftName:\"辣条\",type:\"division\",count:2,timeChange:10000},\r\n        // {giftName:\"辣条\",type:\"power\",count:2,timeChange:10000},\r\n        // {giftName:\"辣条\",type:\"clear\",count:2,timeChange:10000},\r\n      ],\r\n      tempGiftList: [],\r\n    }\r\n  },\r\n  methods: {\r\n    timeFormat(input) {\r\n      return Tools.timeFormat(input);\r\n    },\r\n    modTypeFormat(input) {\r\n      let output = \"\";\r\n      switch (input.type) {\r\n        case \"add\":\r\n          output = `+${this.timeFormat(input.timeChange)}`;\r\n          break;\r\n        case \"reduce\":\r\n          output = `-${this.timeFormat(input.timeChange)}`;\r\n          break;\r\n        case \"multi\":\r\n          output = `×${input.timeChange}`;\r\n          break;\r\n        case \"division\":\r\n          output = `÷${input.timeChange}`;\r\n          break;\r\n        case \"power\":\r\n          output = `${input.timeChange}次方`;\r\n          break;\r\n        case \"clear\":\r\n          output = `重置`;\r\n          break;\r\n      }\r\n      return output;\r\n    },\r\n    freshBackImage() {\r\n      // 获取元素\r\n      let topElement = document.getElementById(\"timeLeftShow\");\r\n      let bottomElement = document.getElementById(\"modItemList\");\r\n\r\n      // 删除样式\r\n      topElement.style.backgroundImage = \"\";\r\n      bottomElement.style.backgroundImage = \"\";\r\n\r\n      // 赋予样式\r\n      topElement.style.backgroundImage = `url(\"http://${location.host}/API/overtimeWork/assets/background-top.png?${Tools.getRandomString()}\")`;\r\n      bottomElement.style.backgroundImage = `url(\"http://${location.host}/API/overtimeWork/assets/background-bottom.png?${Tools.getRandomString()}\")`;\r\n    },\r\n    async getBaseInfo() {\r\n      let result = await Tools.sendRequest.call(this, \"/API/overtimeWork/getInfo\");\r\n      if (result.err) return;\r\n      this.currentWorkTime = result.data.currentWorkTime;\r\n      this.modList = result.data.modList;\r\n      this.tempGiftList = result.data.tempGiftList;\r\n      this.$forceUpdate();\r\n    }\r\n  },\r\n  mounted() {\r\n    // 获取基础信息\r\n    this.getBaseInfo();\r\n\r\n    // 关注剩余时间变动\r\n    this.$EventBus.$on(\"OvertimeWork-changeTime\", data => {\r\n      data = JSON.parse(data);\r\n      this.currentWorkTime = data['timeLeft'];\r\n    });\r\n\r\n    // 关注加班道具列表变动\r\n    this.$EventBus.$on(\"OvertimeWork-changeModList\", data => {\r\n      data = JSON.parse(data);\r\n      this.modList = data['data'];\r\n    });\r\n\r\n    // 关注强制刷新事件\r\n    this.$EventBus.$on(\"OvertimeWork-freshPage\", () => {\r\n      this.$forceUpdate();\r\n      this.freshBackImage();\r\n    });\r\n\r\n    // 自动降低时长\r\n    setInterval(() => {\r\n      if (this.currentWorkTime <= 0 || !this.$store.state.liveStatus) return;\r\n      this.currentWorkTime--;\r\n    }, 1000);\r\n\r\n\r\n    // 设置背景图片\r\n    this.freshBackImage();\r\n  },\r\n  computed: {},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#OBSOvertimeWork * {\r\n  font-family: \"Microsoft YaHei UI\", sans-serif;\r\n}\r\n\r\n#timeLeftShow,\r\n#modItemList {\r\n  padding: 10px 5px 10px 5px;\r\n  margin-top: 10px;\r\n  width: 100%;\r\n  text-align: center;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  border-radius: 20px;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n}\r\n\r\n#timeLeftShow > b,\r\n#timeLeftShow > h5,\r\n#modItemList > h5 {\r\n  color: white;\r\n}\r\n\r\n#timeLeftShow > b {\r\n  font-size: 23px;\r\n  color: white;\r\n}\r\n\r\n.modList > div {\r\n  color: white;\r\n  font-size: 14px;\r\n}\r\n\r\n.modListDataImg {\r\n  height: 100%;\r\n}\r\n\r\n.modListDataShow {\r\n  overflow: hidden;\r\n  height: 50px;\r\n  width: 50px;\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n  border-radius: 10%;\r\n}\r\n\r\n.modListDataShow > span {\r\n  font-family: \"Microsoft YaHei UI\", sans-serif;\r\n}\r\n\r\n.modListItemCount {\r\n  font-weight: bold;\r\n  color: rgba(0, 0, 0, 0.8);\r\n  z-index: 999;\r\n  position: absolute;\r\n  top: 27px;\r\n  right: 0;\r\n  border-radius: 2px;\r\n  text-shadow: 0 0 3px rgb(255, 255, 255);\r\n}\r\n\r\n.modListDataDesc {\r\n  font-size: 13px;\r\n  color: white;\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ViewOvertimeWork.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ViewOvertimeWork.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewOvertimeWork.vue?vue&type=template&id=1bcef209&scoped=true&\"\nimport script from \"./ViewOvertimeWork.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewOvertimeWork.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewOvertimeWork.vue?vue&type=style&index=0&id=1bcef209&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bcef209\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{attrs:{\"fluid\":\"\",\"id\":\"OutContainer\"}},[_c('hr'),_c('h1',[_c('b',[_vm._v(\"加班组件\")]),_c('b-badge',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"v1.3 配置面板\")])],1),_c('hr'),_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('b-btn',{on:{\"click\":_vm.getBaseInfo}},[_vm._v(\"刷新面板信息\")])],1),_c('b-col',[_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.openOBSView}},[_vm._v(\"打开OBS显示窗口\")])],1),_c('b-col',[_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.copyOBSViewAddress}},[_vm._v(\"复制OBS显示窗口网址\")])],1),_c('b-col',[_c('b-btn',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.resetTimeLeft}},[_vm._v(\"重置剩余加班时间\")])],1)],1),_c('hr'),_c('b-row',[_c('b-col',{staticStyle:{\"min-width\":\"350px\",\"max-width\":\"400px\"},attrs:{\"cols\":\"4\"}},[_c('OBSView')],1),_c('b-col',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('h3',[_vm._v(\"基础信息\")]),_c('br'),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('span',{staticClass:\"baseText\"},[_vm._v(\"默认时间\")])]),_c('b-col',[_c('b',{staticClass:\"baseText\"},[_vm._v(_vm._s(_vm.timeFormat(this.defaultWorkTime)))])])],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('span',{staticClass:\"baseText\"},[_vm._v(\"剩余时间\")])]),_c('b-col',[_c('b',{staticClass:\"baseText\"},[_vm._v(_vm._s(_vm.timeFormat(this.currentWorkTime)))])])],1)],1),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('h3',[_vm._v(\"快捷操作\")]),_c('br'),_c('b-input',{attrs:{\"placeholder\":_vm.fastModDesc,\"type\":\"number\"},model:{value:(_vm.fastModCount),callback:function ($$v) {_vm.fastModCount=_vm._n($$v)},expression:\"fastModCount\"}}),_c('br'),_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.fastModTime}},[_vm._v(\"提交更改\")])],1)],1),_c('br'),_c('br'),_c('hr'),_c('h3',[_vm._v(\"礼物修改时间列表\")]),_c('br'),_c('b-row',[_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('如果有两笔数据的礼物名相同，那么序号小的触发，序号大的将不会触发。'),expression:\"'如果有两笔数据的礼物名相同，那么序号小的触发，序号大的将不会触发。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"1\",\"title\":\"配置的序号\"}},[_vm._v(\"序号 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('只允许填入字符串。需要和真实礼物名完全一一对应。'),expression:\"'只允许填入字符串。需要和真实礼物名完全一一对应。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"2\",\"title\":\"触发的礼物名\"}},[_vm._v(\"礼物名 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('允许的类型分别是增加、减少、乘以、除以、N次方、重置。'),expression:\"'允许的类型分别是增加、减少、乘以、除以、N次方、重置。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"2\",\"title\":\"触发事件的类型\"}},[_vm._v(\"类型 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('指时间变动触发事件所需要的礼物数量，如果低于这个数量，仅会将数据累加，直到超过阈值。'),expression:\"'指时间变动触发事件所需要的礼物数量，如果低于这个数量，仅会将数据累加，直到超过阈值。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"2\",\"title\":\"触发事件的阈值\"}},[_vm._v(\"阈值 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('必须填入大于0的整数。如果触发类型是N次方，那么次数变化量代表次方数。例如2代表平方。如果类型是重置，那么变化量无法设置。'),expression:\"'必须填入大于0的整数。如果触发类型是N次方，那么次数变化量代表次方数。例如2代表平方。如果类型是重置，那么变化量无法设置。'\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"3\",\"title\":\"触发事件后加班时间的变化量\"}},[_vm._v(\"变化量 \")]),_c('b-col',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.hover.bottom\",value:('点击按钮对指定行的数据进行操作，如果需要重置可以点击界面上方的 刷新面板信息 '),expression:\"'点击按钮对指定行的数据进行操作，如果需要重置可以点击界面上方的 刷新面板信息 '\",modifiers:{\"hover\":true,\"bottom\":true}}],attrs:{\"cols\":\"2\",\"title\":\"对单笔数据进行操作\"}},[_vm._v(\"操作 \")])],1),_c('br'),(_vm.modList.length === 0)?[_c('b-badge',[_vm._v(\"列表为空\")]),_c('br')]:_vm._e(),_vm._l((_vm.modList),function(item,index){return [_c('b-row',{key:index + 'no',staticClass:\"DataRow\"},[_c('b-col',{attrs:{\"cols\":\"1\"}},[_vm._v(_vm._s(index + 1))]),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-input',{model:{value:(item.giftName),callback:function ($$v) {_vm.$set(item, \"giftName\", $$v)},expression:\"item.giftName\"}})],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-select',{attrs:{\"options\":_vm.modOptionsList},on:{\"change\":function($event){return _vm.modTypeChange(item)}},model:{value:(item.type),callback:function ($$v) {_vm.$set(item, \"type\", $$v)},expression:\"item.type\"}})],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(item.count),callback:function ($$v) {_vm.$set(item, \"count\", _vm._n($$v))},expression:\"item.count\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-input',{attrs:{\"disabled\":item.type === 'clear',\"type\":\"number\"},model:{value:(item.timeChange),callback:function ($$v) {_vm.$set(item, \"timeChange\", _vm._n($$v))},expression:\"item.timeChange\"}})],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('b-btn',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteItem(index)}}},[_vm._v(\"删除\")])],1)],1)]}),_c('br'),_c('b-row',[_c('b-col',[_c('b-btn',{staticStyle:{\"width\":\"50%\"},on:{\"click\":_vm.addNewModItem}},[_vm._v(\"新增一笔数据\")])],1),_c('b-col',[_c('b-btn',{staticStyle:{\"width\":\"50%\"},attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.uploadModList}},[_vm._v(\"上传列表\")])],1),_c('b-col',[_c('b-btn',{staticStyle:{\"width\":\"50%\"},attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.getBaseInfo}},[_vm._v(\"重置列表\")])],1)],1),_c('br'),_c('br'),_c('hr'),_c('h3',[_vm._v(\"窗口背景\")]),_c('br'),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"头部背景\")]),_c('b-col',{attrs:{\"cols\":\"7\"}},[_c('b-form-file',{attrs:{\"id\":\"topImageFile\",\"accept\":\"image/*\",\"placeholder\":\"选择一个背景文件\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.uploadImage('topImageFile')}}},[_vm._v(\"上传\")]),_vm._v(\"   \"),_c('b-btn',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.clearImage('top')}}},[_vm._v(\"清除\")])],1)],1),_c('br'),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}},[_vm._v(\"礼物列表背景\")]),_c('b-col',{attrs:{\"cols\":\"7\"}},[_c('b-form-file',{attrs:{\"id\":\"bottomImageFile\",\"accept\":\"image/*\",\"placeholder\":\"选择一个背景文件\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.uploadImage('bottomImageFile')}}},[_vm._v(\"上传\")]),_vm._v(\"   \"),_c('b-btn',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.clearImage('bottom')}}},[_vm._v(\"清除\")])],1)],1)],2)],1)],1),_c('br'),_c('br'),_c('br'),_c('br'),_c('br')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container fluid id=\"OutContainer\">\r\n    <hr>\r\n    <h1>\r\n      <b>加班组件</b>\r\n      <b-badge style=\"font-size: 14px\">v1.3 配置面板</b-badge>\r\n    </h1>\r\n    <hr>\r\n    <b-container fluid>\r\n      <b-row>\r\n        <b-col>\r\n          <b-btn @click=\"getBaseInfo\">刷新面板信息</b-btn>\r\n        </b-col>\r\n        <b-col>\r\n          <b-btn @click=\"openOBSView\" variant=\"primary\">打开OBS显示窗口</b-btn>\r\n        </b-col>\r\n        <b-col>\r\n          <b-btn @click=\"copyOBSViewAddress\" variant=\"primary\">复制OBS显示窗口网址</b-btn>\r\n        </b-col>\r\n        <b-col>\r\n          <b-btn @click=\"resetTimeLeft\" variant=\"danger\">重置剩余加班时间</b-btn>\r\n        </b-col>\r\n      </b-row>\r\n      <hr>\r\n      <b-row>\r\n        <b-col cols=\"4\" style=\"min-width: 350px;max-width: 400px\">\r\n          <OBSView/>\r\n        </b-col>\r\n        <b-col>\r\n          <b-row>\r\n            <b-col cols=\"6\">\r\n              <h3>基础信息</h3>\r\n              <br>\r\n              <b-row>\r\n                <b-col cols=\"3\">\r\n                  <span class=\"baseText\">默认时间</span>\r\n                </b-col>\r\n                <b-col>\r\n                  <b class=\"baseText\">{{ timeFormat(this.defaultWorkTime) }}</b>\r\n                </b-col>\r\n              </b-row>\r\n              <b-row>\r\n                <b-col cols=\"3\">\r\n                  <span class=\"baseText\">剩余时间</span>\r\n                </b-col>\r\n                <b-col>\r\n                  <b class=\"baseText\">{{ timeFormat(this.currentWorkTime) }}</b>\r\n                </b-col>\r\n              </b-row>\r\n            </b-col>\r\n            <b-col cols=\"6\">\r\n              <h3>快捷操作</h3>\r\n              <br>\r\n              <b-input v-model.number=\"fastModCount\" :placeholder=\"fastModDesc\" type=\"number\"/>\r\n              <br>\r\n              <b-btn @click=\"fastModTime\" variant=\"primary\">提交更改</b-btn>\r\n            </b-col>\r\n          </b-row>\r\n          <br><br>\r\n          <hr>\r\n          <h3>礼物修改时间列表</h3>\r\n          <br>\r\n          <b-row>\r\n            <b-col cols=\"1\"\r\n                   v-b-popover.hover.bottom=\"'如果有两笔数据的礼物名相同，那么序号小的触发，序号大的将不会触发。'\"\r\n                   title=\"配置的序号\">序号\r\n            </b-col>\r\n            <b-col cols=\"2\"\r\n                   v-b-popover.hover.bottom=\"'只允许填入字符串。需要和真实礼物名完全一一对应。'\"\r\n                   title=\"触发的礼物名\">礼物名\r\n            </b-col>\r\n            <b-col cols=\"2\"\r\n                   v-b-popover.hover.bottom=\"'允许的类型分别是增加、减少、乘以、除以、N次方、重置。'\"\r\n                   title=\"触发事件的类型\">类型\r\n            </b-col>\r\n            <b-col cols=\"2\"\r\n                   v-b-popover.hover.bottom=\"'指时间变动触发事件所需要的礼物数量，如果低于这个数量，仅会将数据累加，直到超过阈值。'\"\r\n                   title=\"触发事件的阈值\">阈值\r\n            </b-col>\r\n            <b-col cols=\"3\"\r\n                   v-b-popover.hover.bottom=\"'必须填入大于0的整数。如果触发类型是N次方，那么次数变化量代表次方数。例如2代表平方。如果类型是重置，那么变化量无法设置。'\"\r\n                   title=\"触发事件后加班时间的变化量\">变化量\r\n            </b-col>\r\n            <b-col cols=\"2\"\r\n                   v-b-popover.hover.bottom=\"'点击按钮对指定行的数据进行操作，如果需要重置可以点击界面上方的 刷新面板信息 '\"\r\n                   title=\"对单笔数据进行操作\">操作\r\n            </b-col>\r\n          </b-row>\r\n          <br>\r\n          <template v-if=\"modList.length === 0\">\r\n            <b-badge>列表为空</b-badge>\r\n            <br>\r\n          </template>\r\n          <template v-for=\"(item,index) in modList\">\r\n            <b-row :key=\"index + 'no'\" class=\"DataRow\">\r\n              <b-col cols=\"1\">{{ index + 1 }}</b-col>\r\n              <b-col cols=\"2\">\r\n                <b-input v-model=\"item.giftName\"></b-input>\r\n              </b-col>\r\n              <b-col cols=\"2\">\r\n                <b-select v-model=\"item.type\" :options=\"modOptionsList\" @change=\"modTypeChange(item)\"/>\r\n              </b-col>\r\n              <b-col cols=\"2\">\r\n                <b-input v-model.number=\"item.count\" type=\"number\"></b-input>\r\n              </b-col>\r\n              <b-col cols=\"3\">\r\n                <b-input v-model.number=\"item.timeChange\" :disabled=\"item.type === 'clear'\" type=\"number\"></b-input>\r\n              </b-col>\r\n              <b-col cols=\"2\">\r\n                <b-btn @click=\"deleteItem(index)\" variant=\"danger\">删除</b-btn>\r\n              </b-col>\r\n            </b-row>\r\n          </template>\r\n          <br>\r\n          <b-row>\r\n            <b-col>\r\n              <b-btn style=\"width: 50%\" @click=\"addNewModItem\">新增一笔数据</b-btn>\r\n            </b-col>\r\n            <b-col>\r\n              <b-btn style=\"width: 50%\" @click=\"uploadModList\" variant=\"primary\">上传列表</b-btn>\r\n            </b-col>\r\n            <b-col>\r\n              <b-btn style=\"width: 50%\" @click=\"getBaseInfo\" variant=\"danger\">重置列表</b-btn>\r\n            </b-col>\r\n          </b-row>\r\n          <br><br>\r\n          <hr>\r\n          <h3>窗口背景</h3>\r\n          <br>\r\n          <b-row>\r\n            <b-col cols=\"2\">头部背景</b-col>\r\n            <b-col cols=\"7\">\r\n              <b-form-file id=\"topImageFile\" accept=\"image/*\" placeholder=\"选择一个背景文件\"></b-form-file>\r\n            </b-col>\r\n            <b-col cols=\"3\">\r\n              <b-btn variant=\"primary\" @click=\"uploadImage('topImageFile')\">上传</b-btn> &nbsp;\r\n              <b-btn variant=\"danger\" @click=\"clearImage('top')\">清除</b-btn>\r\n            </b-col>\r\n          </b-row>\r\n          <br>\r\n          <b-row>\r\n            <b-col cols=\"2\">礼物列表背景</b-col>\r\n            <b-col cols=\"7\">\r\n              <b-form-file id=\"bottomImageFile\" accept=\"image/*\" placeholder=\"选择一个背景文件\"></b-form-file>\r\n            </b-col>\r\n            <b-col cols=\"3\">\r\n              <b-btn variant=\"primary\" @click=\"uploadImage('bottomImageFile')\">上传</b-btn> &nbsp;\r\n              <b-btn variant=\"danger\" @click=\"clearImage('bottom')\">清除</b-btn>\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n      </b-row>\r\n\r\n    </b-container>\r\n    <br><br><br><br><br>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {showToast} from \"@/common/ToastShow\";\r\nimport clipboard from \"clipboard\";\r\nimport Tools from \"@/common/ToolsFunctions\";\r\nimport OBSView from \"@/components/ViewOvertimeWork\";\r\n\r\nexport default {\r\n  name: \"OvertimeWorkConfig\",\r\n  data() {\r\n    return {\r\n      defaultWorkTime: 0,\r\n      currentWorkTime: 0,\r\n      modList: [\r\n        // {giftName:\"辣条\",type:\"clear\",count:2,timeChange:10000},\r\n      ],\r\n      tempGiftList: [],\r\n      fastModCount: null,\r\n      modOptionsList: [\r\n        {value: \"add\", text: \"增加\"},\r\n        {value: \"reduce\", text: \"减少\"},\r\n        {value: \"multi\", text: \"乘以\"},\r\n        {value: \"division\", text: \"除以\"},\r\n        {value: \"power\", text: \"N次方\"},\r\n        {value: \"clear\", text: \"重置\"},\r\n      ],\r\n      OBSViewAddress: \"/OBSView/overtimeWork\",\r\n      fastModDesc: \"填入修改量，正数增加，负数减少。(单位：秒)\",\r\n    }\r\n  },\r\n  methods: {\r\n    async resetTimeLeft() {\r\n      if (!window.confirm(\"确定要将当前剩余加班时间删除，并设置为默认加班时间吗？\")) return;\r\n      let result = await this.sendRequest(\"/API/overtimeWork/resetTime\", \"post\");\r\n      if (result.err) return;\r\n      showToast.call(this, \"重置时间成功\", \"已经将剩余加班时间重置为默认时间。\", \"success\");\r\n      this.getBaseInfo().then();\r\n    },\r\n    async getBaseInfo() {\r\n      let result = await this.sendRequest(\"/API/overtimeWork/getInfo\", \"get\");\r\n      if (result.err) return;\r\n      this.defaultWorkTime = result.data.defaultWorkTime;\r\n      this.currentWorkTime = result.data.currentWorkTime;\r\n      this.modList = result.data.modList;\r\n      this.tempGiftList = result.data.tempGiftList;\r\n      this.$forceUpdate();\r\n    },\r\n    async fastModTime() {\r\n      // 验证数据合法性\r\n      if (!this.fastModCount)\r\n        return showToast.call(this, \"参数不符合要求\", \"快捷操作量必须是正负整数。\", \"danger\");\r\n      // 发送上报请求\r\n      let result = await this.sendRequest(\r\n          \"/API/overtimeWork/fastMod\",\r\n          \"post\",\r\n          {modCount: parseInt(this.fastModCount)}\r\n      );\r\n      if (result.err) return;\r\n      showToast.call(this, \"快捷操作修改完毕。\", \"操作修改完毕，如果剩余加班时间没有变动，请尝试点击刷新信息按钮。\", \"success\");\r\n      this.getBaseInfo().then();\r\n    },\r\n    async uploadModList() {\r\n      if (!window.confirm(\"请确认数据是否合规，上传后核心将会自动删除不合规的数据。并不保留不合规数据。\")) return;\r\n      let result = await this.sendRequest(\"/API/overtimeWork/updateModList\", \"post\", this.modList);\r\n      if (result.err) return;\r\n      showToast.call(this, \"上传数据已完成\", \"如果列表没有刷新，可以点击 '重置列表' 获取当前最新可用的列表\", \"success\");\r\n    },\r\n    async clearImage(target) {\r\n      let result = await Tools.sendRequest.call(this,\"/API/overtimeWork/clearBackImage\", \"post\", {target});\r\n      if (result.err) return;\r\n      showToast.call(this,\"已删除背景图片\",\"可能刷新即可查看效果\",\"success\");\r\n    },\r\n    uploadImage(target) {\r\n      let file = document.getElementById(target === \"topImageFile\" ? \"topImageFile\" : \"bottomImageFile\").files[0];\r\n      if (!file) return showToast.call(this, \"参数缺失\", \"请先选择一个图片作为背景再上传\", \"warning\");\r\n      let formData = new FormData();\r\n      let fileName = target === \"topImageFile\" ? \"background-top.png\" : \"background-bottom.png\";\r\n      formData.append(\"file\", file);\r\n      formData.append(\"fileName\", fileName);\r\n      axios({\r\n        url: \"/API/overtimeWork/updateBackImage\",\r\n        method: \"post\",\r\n        data: formData,\r\n      }).then(axiosRes => {\r\n        showToast.call(this, \"上传完成\", axiosRes.data.message, \"success\");\r\n        this.$forceUpdate();\r\n      }).catch(axiosErr => {\r\n        showToast.call(this, \"上传失败\", axiosErr.message, \"danger\");\r\n      })\r\n    },\r\n    openOBSView() {\r\n      open(Tools.getLocalCustomAddress(this.OBSViewAddress));\r\n    },\r\n    copyOBSViewAddress() {\r\n      let address = Tools.getLocalCustomAddress(this.OBSViewAddress);\r\n      clipboard.copy(address);\r\n      showToast.call(this, \"内容已复制\", address, \"success\");\r\n    },\r\n    deleteItem(index) {\r\n      this.modList.splice(index, 1);\r\n    },\r\n    timeFormat(input) {\r\n      return Tools.timeFormat(input);\r\n    },\r\n    addNewModItem() {\r\n      this.modList.push({\r\n        giftName: \"空白\",\r\n        count: 0,\r\n        timeChange: 0,\r\n        type: \"add\"\r\n      })\r\n    },\r\n    modTypeChange(item) {\r\n      if (item.type === \"clear\") item.timeChange = 1;\r\n    },\r\n    sendRequest(url, method = \"get\", data = {}) {\r\n      return axios({\r\n        url, method, data\r\n      }).then(axiosRes => {\r\n        return {err: false, data: axiosRes.data};\r\n      }).catch(axiosErr => {\r\n        showToast.call(this, \"请求失败\", axiosErr.message, \"danger\");\r\n        return {err: true};\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getBaseInfo();\r\n    setInterval(() => {\r\n      // 自动减少剩余时间\r\n      if (this.currentWorkTime <= 0 || !this.$store.state.liveStatus) return;\r\n      this.currentWorkTime--;\r\n    }, 1000);\r\n\r\n    // 关注剩余加班时间变动事件\r\n    this.$EventBus.$on(\"OvertimeWork-changeTime\", data => {\r\n      data = JSON.parse(data);\r\n      this.currentWorkTime = data['timeLeft'];\r\n    });\r\n\r\n    // 关注加班道具列表变动事件\r\n    this.$EventBus.$on(\"OvertimeWork-changeModList\", data => {\r\n      data = JSON.parse(data);\r\n      this.modList = data['data'];\r\n    });\r\n\r\n    // 关注强制刷新事件\r\n    this.$EventBus.$on(\"OvertimeWork-freshPage\",() => this.$forceUpdate());\r\n  },\r\n  components: {OBSView}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#OutContainer {\r\n  text-align: center;\r\n}\r\n\r\n.baseText {\r\n  line-height: 38px;\r\n}\r\n\r\n.DataRow {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.DataRow > div {\r\n  line-height: 38px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OvertimeWorkConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OvertimeWorkConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OvertimeWorkConfig.vue?vue&type=template&id=5a5a87f2&scoped=true&\"\nimport script from \"./OvertimeWorkConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./OvertimeWorkConfig.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OvertimeWorkConfig.vue?vue&type=style&index=0&id=5a5a87f2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a5a87f2\",\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\r\nimport {showToast} from \"@/common/ToastShow\";\r\n\r\nconst StringPool = \"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM0123456789\";\r\n\r\n/**\r\n * @param url {String} 访问的地址\r\n * @param method {String} 访问的方法\r\n * @param data {Object} 传输的请求体\r\n * @return {Promise<{err: boolean, data: *} | {err: boolean}>}\r\n */\r\nfunction sendRequest(url, method = \"get\", data) {\r\n  return axios({\r\n    url, method, data\r\n  }).then(axiosRes => {\r\n    return {err: false, data: axiosRes.data};\r\n  }).catch(axiosErr => {\r\n    showToast.call(this, \"请求出现错误\", axiosErr.message, \"danger\");\r\n    return {err: true};\r\n  })\r\n}\r\n\r\n/**\r\n * @param input {Number} 时间秒数\r\n * @return {string} 时间格式化之后的返回值\r\n */\r\nfunction timeFormat(input = 0) {\r\n  let output = \"\";\r\n  if (input >= 31536000) {\r\n    output += Math.floor(input / 31536000) + \"年 \";\r\n    input -= Math.floor(input / 31536000) * 31536000;\r\n  }\r\n  if (input >= 86400) {\r\n    output += Math.floor(input / 86400) + \"天 \";\r\n    input -= Math.floor(input / 86400) * 86400;\r\n  }\r\n  if (input >= 3600) {\r\n    output += Math.floor(input / 3600) + \"小时 \";\r\n    input -= Math.floor(input / 3600) * 3600;\r\n  }\r\n  if (input >= 60) {\r\n    output += Math.floor(input / 60) + \"分钟 \";\r\n    input -= Math.floor(input / 60) * 60;\r\n  }\r\n  output += Math.floor(input) + \"秒\";\r\n  return output;\r\n}\r\n\r\n/**\r\n * @param path {String} 路径\r\n * @return {string} 本站内部链接\r\n */\r\nfunction getLocalCustomAddress(path = \"/\") {\r\n  return `http://${location.host}/#${path.slice(0, 1) === \"/\" ? \"\" : \"/\"}${path}`;\r\n}\r\n\r\n/**\r\n * 获取指定长度的随机字符串\r\n * @param length {number} 随机字符串商都\r\n * @return {string} 随机字符串\r\n */\r\nfunction getRandomString(length = 10) {\r\n  let output = \"\";\r\n  for (let index = 0; index < length; index++) {\r\n    output += StringPool[Math.floor(Math.random() * StringPool.length + 1)];\r\n  }\r\n  return output;\r\n}\r\n\r\nexport default {sendRequest, timeFormat, getLocalCustomAddress,getRandomString};"],"names":["render","_vm","this","_c","_self","attrs","_v","_s","timeFormat","currentWorkTime","_l","item","index","key","staticClass","staticStyle","img","giftName","count","modTypeFormat","modList","length","_e","staticRenderFns","name","data","tempGiftList","methods","input","output","type","timeChange","freshBackImage","topElement","document","getElementById","bottomElement","style","backgroundImage","location","host","async","result","err","$forceUpdate","mounted","getBaseInfo","$EventBus","$on","JSON","parse","setInterval","$store","state","liveStatus","computed","component","on","openOBSView","copyOBSViewAddress","resetTimeLeft","defaultWorkTime","fastModDesc","model","value","callback","$$v","fastModCount","_n","expression","fastModTime","directives","rawName","modifiers","$set","modOptionsList","$event","modTypeChange","deleteItem","addNewModItem","uploadModList","uploadImage","clearImage","text","OBSViewAddress","window","confirm","sendRequest","then","modCount","parseInt","target","file","files","formData","FormData","fileName","append","url","method","axiosRes","message","catch","axiosErr","open","address","splice","push","components","OBSView","StringPool","Math","floor","getLocalCustomAddress","path","slice","getRandomString","random"],"sourceRoot":""}